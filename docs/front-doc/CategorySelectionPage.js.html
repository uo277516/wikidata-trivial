<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: CategorySelectionPage.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: CategorySelectionPage.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useEffect, useState } from 'react';
import { Layout, Typography, Radio, Button, Modal, Image } from 'antd';
import { headerStyle, contentStyle, footerStyle} from '../styles/appStyle.js';
import logo from '../logo.jpg'; 
import PrincipalScreen from './PrincipalScreen.js';
import LoginComponent from './LoginComponent.js';
import {SolutionOutlined } from '@ant-design/icons';
import '../styles/styles.css'; 
import MenuComponent from './MenuComponent.js';
import TableComponent from './TableComponent.js';
import { useTranslation } from 'react-i18next';



const { Title, Paragraph, Link} = Typography;
const { Header, Content, Footer, Sider } = Layout;


/**
 * Category selection component for the game.
 * 
 * @component
 * @returns {React.JSX.Element} Rendered component.
 */
const CategorySelectionPage = () => {
  const [change, setChange] = useState(true);
  const categories = ['investigación', 'deporte', 'música']; 
  const [selectedCategory, setSelectedCategory] = useState('investigación');
  const [user, setUser] = useState(null);
  const [seeStreaks, setSeeStreaks] = useState(false);
  const { t } = useTranslation();



  /**
   * Handles the start of the game by displaying a confirmation modal.
   * @function handleStartGame
   * @param {string} selectedCategory - The selected category
   * @returns {void}
   */
  const handleStartGame = (selectedCategory) => {
    Modal.info({
      title: t('cat.startButton'),
      content: (
        &lt;>
          &lt;p>{t('cat.modalStart1', { selectedCategory: t(`cat.${selectedCategory}`) })}&lt;/p>
          &lt;div style={{ textAlign: 'right' }}>
            &lt;Button onClick={() =>  ok()} type="primary">
              OK
            &lt;/Button>
            &lt;Button onClick={() =>  cancel()} style={{ marginLeft: 10 }}>
              Cancelar
            &lt;/Button>
          &lt;/div>
        &lt;/>
      ),
      okButtonProps: { style: { display: 'none' } }, 
      cancelButtonProps: { style: { display: 'none' } }, 
    });
  };

  /**
   * Function that is executed when the start of the game is confirmed.
   * @function ok
   * @returns {void}
   */
  const ok = () => {
    setChange(false);
    cancel();
  }

  /**
   * Function that is executed when the game start modal is cancelled.
   * @function cancel
   * @returns {void}
   */
  const cancel = () => {
    Modal.destroyAll(); 
  };


  /**
   * Handles the change of the selected category.
   * @function handleCategoryChange
   * @param {Event} e - Category change event.
   * @returns {void}
   */
  const handleCategoryChange = (e) => {
    setSelectedCategory(e.target.value);
  };


  /**
   * Verify user authentication by getting the localStorage user.
   * @function checkAuthentication
   * @async
   * @return {void}
   */
  const checkAuthentication = async () => {
    const userGet = localStorage.getItem("user");
    if (userGet !== null) {
      setUser(JSON.parse(userGet));
    }
  };


  /**
   * Lifecycle hook for checking user on component mount.
   * @function useEffect
   * @returns {void}
   */
  useEffect(() => {    
    checkAuthentication();
  }, []);


  return (
    &lt;>
      {user === null ? (
        &lt;LoginComponent />
      ) : (
        &lt;>
          {change ? (
            &lt;Layout style={{ minHeight: "100vh" , backgroundColor: 'white'}}>
              &lt;MenuComponent user={user} mode='horizontal'>&lt;/MenuComponent>
              &lt;Header  style={headerStyle}>
                &lt;Layout id='header' style={{ display: 'flex', alignItems: 'center', backgroundColor: 'white'}}>
                  &lt;Sider style={{ flex: 1, width: '20%', textAlign: 'center', lineHeight: '120px', color: '#fff', backgroundColor: 'white', paddingTop: '20px' }}>
                    &lt;Image
                      width={200}
                      src={logo}
                      style={{ paddingLeft: '10px',marginBottom: '20px' }}
                      alt='Logo image'
                    />
                  &lt;/Sider>
                  &lt;Content id='content' style={{ flex: 2, textAlign: 'left', paddingLeft: '20px', color: 'black', backgroundColor: 'white'}}>
                    &lt;Title level={1} style={{ marginTop: '20px', fontWeight: 'bold' }}>Wiki Trivial&lt;/Title>
                    &lt;Title level={2} style={{ marginTop: '5px'}}>{t('login.title')}&lt;/Title>
                  &lt;/Content>
                &lt;/Layout>
              &lt;/Header>
              &lt;Content style={contentStyle}>
              &lt;div id='login_div' style={{
                  display: 'flex',
                  justifyContent: 'space-between',
                  alignItems: 'center',
                  paddingBottom: '10px'
                  }}>
                &lt;Title level={1} style={{ color: '#004aad', marginTop: '10px' }}>{t('cat.welcome')} {user.displayName}!&lt;/Title>
                  &lt;Modal
                        title={t('cat.tableTitle')}
                        open={seeStreaks}
                        onCancel={() => setSeeStreaks(false)}
                        footer={null}
                        width={900}
                    >
                      &lt;TableComponent user={user}>&lt;/TableComponent>
                    &lt;/Modal>
                    &lt;Button style={{marginRight:'60px'}} 
                      type="primary" icon={&lt;SolutionOutlined />} size='large' onClick={()=>setSeeStreaks(true)}>
                      {t('cat.buttonClasification')}
                    &lt;/Button>
                &lt;/div>
                &lt;Paragraph style={{ fontSize: "20px"}}>
                  {t('login.info1')}
                  &lt;Link href="https://www.wikidata.org/?uselang=es" target="_blank" style={{ fontSize: "20px" }}>Wikidata&lt;/Link>
                  {t('cat.info')}
                &lt;/Paragraph>
                
                &lt;Content width="100%" style={contentStyle}>
                  &lt;div style={{ textAlign: 'center', marginTop: '50px' }}>
                    &lt;Radio.Group
                      value={selectedCategory}
                      onChange={(e) => handleCategoryChange(e)}
                      style={{ display: 'block' }}>
                      {categories.map((category) => (
                        &lt;Radio.Button key={category} value={category}
                          style={{ display: 'block', width: '40%', margin: '0 auto 10px' }}>
                          {t(`cat.${category}`)}
                        &lt;/Radio.Button>
                      ))}
                    &lt;/Radio.Group>
                    &lt;Button
                      type="primary"
                      size="large"
                      onClick={() => handleStartGame(selectedCategory)}
                      style={{ marginTop: '20px' }}>
                      {t('cat.startButton')}
                    &lt;/Button>
                  &lt;/div>
  
                &lt;/Content>
              &lt;/Content>
              &lt;Footer style={footerStyle}> {t('footer.info')}&lt;a href="https://www.icons8.com" target="_blank" rel="noopener noreferrer" style={{ color: 'white', textDecoration: 'underline' }}>Icons8&lt;/a>&lt;/Footer>
            &lt;/Layout>
          ) : (
            &lt;PrincipalScreen
              category={selectedCategory}
              categories={categories}
              user= {user} />
          )}
        &lt;/>
      )}
    &lt;/>
  )};
  
export default CategorySelectionPage;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#CategorySelectionPage">CategorySelectionPage</a></li><li><a href="global.html#LoginComponent">LoginComponent</a></li><li><a href="global.html#MenuComponent">MenuComponent</a></li><li><a href="global.html#PrincipalScreen">PrincipalScreen</a></li><li><a href="global.html#QuestionCard">QuestionCard</a></li><li><a href="global.html#TableComponent">TableComponent</a></li><li><a href="global.html#asyncTestFunction">asyncTestFunction</a></li><li><a href="global.html#cancel">cancel</a></li><li><a href="global.html#changeLanguage">changeLanguage</a></li><li><a href="global.html#checkAuthentication">checkAuthentication</a></li><li><a href="global.html#checkStreak">checkStreak</a></li><li><a href="global.html#fetchQuestions">fetchQuestions</a></li><li><a href="global.html#fetchStreaks">fetchStreaks</a></li><li><a href="global.html#fetchUserData">fetchUserData</a></li><li><a href="global.html#filterStreaks">filterStreaks</a></li><li><a href="global.html#funcProperties">funcProperties</a></li><li><a href="global.html#handleCategoryChange">handleCategoryChange</a></li><li><a href="global.html#handleGiveUp">handleGiveUp</a></li><li><a href="global.html#handleLoadingState">handleLoadingState</a></li><li><a href="global.html#handleLogin">handleLogin</a></li><li><a href="global.html#handleRestart">handleRestart</a></li><li><a href="global.html#handleSegmentedChange">handleSegmentedChange</a></li><li><a href="global.html#handleSend">handleSend</a></li><li><a href="global.html#handleSendButton">handleSendButton</a></li><li><a href="global.html#handleSendSameEntityButton">handleSendSameEntityButton</a></li><li><a href="global.html#handleStartGame">handleStartGame</a></li><li><a href="global.html#log">log</a></li><li><a href="global.html#ok">ok</a></li><li><a href="global.html#openPop">openPop</a></li><li><a href="global.html#saveStreak">saveStreak</a></li><li><a href="global.html#setSelCategory">setSelCategory</a></li><li><a href="global.html#useEffect">useEffect</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.3</a> on Thu Jun 20 2024 23:08:59 GMT+0200 (hora de verano de Europa central)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
